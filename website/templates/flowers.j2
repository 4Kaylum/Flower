{% extends "main.j2" %}

{%- block content -%}
<section class="section">
    <div class="container">
        <div class="columns">
            <div class="column is-narrow">
                <h1 class="title">User Experience</h1>
                <p class="subtitle">{{ user.user_experience }}</p>
            </div>
            <div class="column is-narrow">
                <h1 class="title">Pot Count</h1>
                <p class="subtitle">{{ user.plant_limit }}</p>
            </div>
        </div>
        <hr />
        <div class="columns is-multiline" style="align-items: flex-end;">
            {%- for plant in plants -%}
                <div class="column is-3">
                    <div class="columns" style="align-items: flex-end;">
                        <div class="column is-narrow" style="padding: 0;">
                            <img src="data:image/png;base64,{{ plant.image_data }}" style="width: 5em;">
                        </div>
                        <div class="column">
                            <h1 class="title">{{ plant.plant_name }}</h1>
                            <p class="subtitle" style="margin-bottom: 0;">{{ plant.plant_type.capitalize().replace("_", " ") }}</p>
                            {%- if plant.plant_nourishment > 0 -%}
                                <p>Plant nourishment: {{ plant.plant_nourishment }}</p>
                            {%- else -%}
                                <p>Plant is dead :(</p>
                            {%- endif -%}
                        </div>
                    </div>
                    {%- if plant.plant_nourishment >= 0-%}
                        <progress class="progress is-success" value="{{ plant.plant_nourishment / 21 }}" max="1"></progress>
                    {%- else -%}
                        <progress class="progress" value="{{ -plant.plant_nourishment / 21 }}" max="1"></progress>
                    {%- endif -%}
                </div>
            {%- endfor -%}
        </div>
    </div>
</section>
{%- endblock content -%}
